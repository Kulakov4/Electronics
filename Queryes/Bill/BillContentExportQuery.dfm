inherited QueryBillContentExport: TQueryBillContentExport
  inherited Label1: TLabel
    Width = 111
    Caption = 'BillContentExport'
    ExplicitWidth = 111
  end
  inherited FDQuery: TFDQuery
    SQL.Strings = (
      'select'
      '       -sp.Id -100000 ID,'
      '       b.BillDate,'
      '       b.Number,'
      '       b.ShipmentDate,'
      '       p.Value,'
      '       sp.StorehouseId,'
      '       0 IsGroup,'
      '       sp.IDComponentGroup,'
      '       p.IDProducer,'
      '       sp.Amount,'
      '       sp.Price,'
      '       sp.ProductId,'
      '       sp.ReleaseDate,'
      '       sp.BatchNumber,'
      '       sp.Packaging,'
      '       sp.OriginCountry,'
      '       sp.CustomsDeclarationNumber,'
      '       sp.Storage,'
      '       sp.DocumentNumber,'
      '       sp.Barcode,'
      '       sp.Seller,'
      '       sp.StoragePlace,'
      '       sp.OriginCountryCode,'
      '       sp.IDCurrency,'
      '       sp.LoadDate,'
      '       sp.DOLLAR,'
      '       sp.EURO,'
      '       sp.RETAIL,'
      '       sp.MinWholeSale,'
      '       sp.WholeSale,'
      '       sp.IDExtraChargeType,'
      '       sp.IDExtraCharge,'
      '       bc.SaleCount,'
      '       p.PackagePins,'
      '       p.Datasheet,'
      '       p.Diagram,'
      '       p.Drawing,'
      '       p.Image,'
      '       p.DescriptionID,'
      '       d.ComponentName DescriptionComponentName,'
      '       d.Description,'
      '       case when pr.ID is null then 0 else 1 end Checked,'
      '       bc.ID BillContentID,'
      '       bc.BillID'
      'from StorehouseProducts sp'
      'join Products2 p on sp.ProductId = p.id'
      'join BillContent bc on bc.StorehouseProductID = sp.Id'
      'join Bill b on bc.BillID = b.ID'
      'left join Products pr on p.Value = pr.Value'
      'LEFT JOIN Descriptions2 d on p.DescriptionId = d.ID'
      'where (0=0) and (1=1)'
      'order by b.Number desc')
  end
end
